local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Jujutsu Shenanigans  ",
    SubTitle = "       By Nozer Hub | First Version",
    TabWidth = 135,
    Size = UDim2.fromOffset(500, 350),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    InfoScript = Window:AddTab({ Title = "Info Script", Icon = "scroll" }),
    Main = Window:AddTab({ Title = "Main", Icon = "home" }), 
    SwitchFast = Window:AddTab({ Title = "Switch Fast", Icon = "repeat" }),
    Misc = Window:AddTab({ Title = "Misc", Icon = "list" }),
    Skills = Window:AddTab({ Title = "Skills", Icon = "star" }), 
    AntiLag = Window:AddTab({ Title = "Anti Lag", Icon = "shield" }),
    Player = Window:AddTab({ Title = "Player", Icon = "user" }),
    Settings = Window:AddTab({ Title = "UI Settings", Icon = "settings" }),
}

local Options = Fluent.Options

Fluent:Notify({
    Title = "By Nozer Hub",
    Content = "Thanks for using the script",
    Duration = 5
})

local SupportSection = Tabs.InfoScript:AddSection("Support")
Tabs.InfoScript:AddParagraph({
    Title = "Supported Devices",
    Content = "- Mobile\n- PC\n- Emulator\n- Console"
})

local UpdatesSection = Tabs.InfoScript:AddSection("Updates")
Tabs.InfoScript:AddParagraph({
    Title = "Updates ðŸŸ¢",
    Content = "- 7/11/2024"
})

local SupportSection = Tabs.InfoScript:AddSection("Support Executors")
Tabs.InfoScript:AddParagraph({
    Title = "Executors",
    Content = "- Delta\n- Fluxus\n- Arceus X\n- Wave\n- Codex"
})

local CreditsSection = Tabs.InfoScript:AddSection("Credits")
local linkParaCopiar = "https://www.youtube.com/@NozerHub"
Tabs.InfoScript:AddButton({
    Title = "Copy Link Channel",
    Callback = function()
        setclipboard(linkParaCopiar)
    end
})

local AttackSection = Tabs.Main:AddSection("Attack")

local Toggle = Tabs.Main:AddToggle("MyToggle", {Title = "Auto Attack", Default = false })

Toggle:OnChanged(function()
    if Toggle.Value then
        while Toggle.Value do
            local argsGojo = { [1] = false }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("GojoService"):WaitForChild("RE"):WaitForChild("Activated"):FireServer(unpack(argsGojo))

            local argsItadori = { [1] = false }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItadoriService"):WaitForChild("RE"):WaitForChild("Activated"):FireServer(unpack(argsItadori))

            local argsHakari = { [1] = false }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("HakariService"):WaitForChild("RE"):WaitForChild("Activated"):FireServer(unpack(argsHakari))

            local argsMegumi = { [1] = false }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("MegumiService"):WaitForChild("RE"):WaitForChild("Activated"):FireServer(unpack(argsMegumi))

            wait(0.1)
        end
    end
end)

local Toggle = Tabs.Main:AddToggle("MyToggle", {Title = "Auto Dash Attack", Default = false })

Toggle:OnChanged(function()
    if Toggle.Value then
        while Toggle.Value do
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("GojoService"):WaitForChild("RE"):WaitForChild("Chase"):FireServer()

            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItadoriService"):WaitForChild("RE"):WaitForChild("Chase"):FireServer()

            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("HakariService"):WaitForChild("RE"):WaitForChild("Chase"):FireServer()

            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("MegumiService"):WaitForChild("RE"):WaitForChild("Chase"):FireServer()

            wait(0.1)
        end
    end
end)

local AntiAFKEnabled = true
local Toggle = Tabs.Misc:AddToggle("MyToggle", { Title = "Anti AFK", Default = true })
Toggle:OnChanged(function()
    AntiAFKEnabled = Options.MyToggle.Value
end)
Options.MyToggle:SetValue(true)

Tabs.Misc:AddButton({
    Title = "Server Hop",
    Callback = function()
        local TeleportService = game:GetService("TeleportService")
        local HttpService = game:GetService("HttpService")
        local placeId = game.PlaceId

        local function serverHop()
            local servers
            local cursor = ""

            local success, response = pcall(function()
                local url = "https://games.roblox.com/v1/games/" .. placeId .. "/servers/Public?sortOrder=Asc&limit=100&cursor=" .. cursor
                return HttpService:JSONDecode(game:HttpGet(url))
            end)

            if success and response and response.data then
                servers = response.data
            else
                return
            end

            for _, server in ipairs(servers) do
                if server.id ~= game.JobId and server.playing < server.maxPlayers then
                    TeleportService:TeleportToPlaceInstance(placeId, server.id)
                    return
                end
            end

            if response.nextPageCursor then
                cursor = response.nextPageCursor
                serverHop()
            else
            end
        end

        serverHop()
    end
})

Tabs.Misc:AddButton({
    Title = "Rejoin",
    Callback = function()
        local TeleportService = game:GetService("TeleportService")
        local player = game.Players.LocalPlayer
        TeleportService:Teleport(game.PlaceId, player)
    end
})

local Dropdown = Tabs.SwitchFast:AddDropdown("Dropdown", {
    Title = "Select",
    Values = { "Honored One", "Vessel", "Restless Gambler", "Tem Shadows" },
    Multi = false,
    Default = 1,
})

Dropdown:SetValue("Honored One")

local selectedValue
Dropdown:OnChanged(function(Value)
    selectedValue = Value
end)

Tabs.SwitchFast:AddButton({
    Title = "Apply Character",
    Callback = function()
        if selectedValue == "Honored One" then
            local args = { [1] = "Gojo" }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("JoinService"):WaitForChild("RE"):WaitForChild("Change"):FireServer(unpack(args))

        elseif selectedValue == "Vessel" then
            local args = { [1] = "Itadori" }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("JoinService"):WaitForChild("RE"):WaitForChild("Change"):FireServer(unpack(args))

        elseif selectedValue == "Restless Gambler" then
            local args = { [1] = "Hakari" }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("JoinService"):WaitForChild("RE"):WaitForChild("Change"):FireServer(unpack(args))

        elseif selectedValue == "Tem Shadows" then
            local args = { [1] = "Megumi" }
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("JoinService"):WaitForChild("RE"):WaitForChild("Change"):FireServer(unpack(args))
        end
    end
})

local AutoPlaySection = Tabs.Main:AddSection("Auto Play")

local Toggle = Tabs.Main:AddToggle("MyToggle", {Title = "Auto Play", Default = false })

Toggle:OnChanged(function()
    print("Toggle changed:", Options.MyToggle.Value)

    local function getClosestPlayer()
        local closestPlayer = nil
        local closestDistance = math.huge  -- Inicializa com um valor muito alto

        for _, otherPlayer in pairs(game.Players:GetPlayers()) do
            if otherPlayer ~= game.Players.LocalPlayer and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local distance = (otherPlayer.Character.HumanoidRootPart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
                if distance < closestDistance then
                    closestPlayer = otherPlayer
                    closestDistance = distance
                end
            end
        end
        return closestPlayer
    end

    local function moveToClosestPlayer()
        local closestPlayer = getClosestPlayer()
        
        if closestPlayer then
            if closestPlayer.Character and closestPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local targetPosition = closestPlayer.Character.HumanoidRootPart.Position
                game.Players.LocalPlayer.Character.Humanoid:MoveTo(targetPosition)  -- Mover o personagem atï¿½ a posiï¿½ï¿½o do jogador mais prï¿½ximo
            end
        end
    end

    local function monitorPlayerStatus()
        local closestPlayer = getClosestPlayer()

        if closestPlayer then
            -- Acompanhar morte do jogador
            closestPlayer.CharacterAdded:Connect(function(character)
                local humanoid = character:WaitForChild("Humanoid")
                humanoid.Died:Connect(function()
                    -- Jogador morreu, procuramos outro alvo
                    print(closestPlayer.Name .. " morreu. Procurando novo alvo...")
                end)
            end)

            closestPlayer.AncestryChanged:Connect(function(_, parent)
                if not parent then
                    -- Jogador saiu do servidor
                    print(closestPlayer.Name .. " saiu do servidor. Procurando novo alvo...")
                end
            end)
        end
    end

    -- Inicia o movimento e monitoramento quando o toggle for ativado
    if Toggle.Value then
        while Toggle.Value do
            moveToClosestPlayer()
            monitorPlayerStatus()
            wait(1)
        end
    end
end)

Options.MyToggle:SetValue(false)

local ViewSection = Tabs.Main:AddSection("View")

local Toggle = Tabs.Main:AddToggle("MyToggle", {Title = "Esp All Players", Default = false })

local activeConnections = {}

local function addESP(player)
    if player == game.Players.LocalPlayer then
        return
    end

    local highlight = Instance.new("Highlight")
    highlight.Parent = player.Character
    highlight.Adornee = player.Character
    highlight.FillColor = Color3.fromRGB(255, 0, 0)  -- Cor de preenchimento (vermelha)
    highlight.OutlineColor = Color3.fromRGB(255, 255, 255)  -- Cor do contorno (branca)
    highlight.OutlineTransparency = 0.5  -- Transparï¿½ncia do contorno
    highlight.FillTransparency = 0.2  -- Transparï¿½ncia do preenchimento
    highlight.Enabled = true
end

local function removeESP(player)
    if player.Character and player.Character:FindFirstChildOfClass("Highlight") then
        player.Character:FindFirstChildOfClass("Highlight"):Destroy()
    end
end

Toggle:OnChanged(function()
    if Toggle.Value then
        -- Ativar ESP para todos os jogadores existentes
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character then
                addESP(player)
            end
        end

        -- Conectar evento para adicionar ESP para novos jogadores que entram
        local playerAddedConnection = game.Players.PlayerAdded:Connect(function(player)
            player.CharacterAdded:Connect(function(character)
                wait(1)
                addESP(player)
            end)
        end)

        -- Conectar evento para remover ESP quando um jogador sair
        local playerRemovingConnection = game.Players.PlayerRemoving:Connect(function(player)
            removeESP(player)
        end)

        table.insert(activeConnections, playerAddedConnection)
        table.insert(activeConnections, playerRemovingConnection)

    else
        for _, player in pairs(game.Players:GetPlayers()) do
            removeESP(player)
        end

        for _, connection in pairs(activeConnections) do
            connection:Disconnect()
        end

        activeConnections = {}
    end
end)

Options.MyToggle:SetValue(false)  -- Definir o toggle inicialmente como desligado

Tabs.AntiLag:AddButton({
    Title = "Anti Lag",
    Description = "Click to disable effects and improve game performance.",
    Callback = function()
        -- Showing the dialog
        Window:Dialog({
            Title = "Performance Adjustment",
            Content = "You are about to disable effects to improve performance.",
            Buttons = {
                {
                    Title = "Confirm",
                    Callback = function()
                        -- Anti-lag script
                        local ToDisable = {
                            Textures = true,
                            VisualEffects = true,
                            Parts = true,
                            Particles = true,
                            Sky = true
                        }

                        local ToEnable = {
                            FullBright = false
                        }

                        local Stuff = {}

                        for _, v in next, game:GetDescendants() do
                            if ToDisable.Parts then
                                if v:IsA("Part") or v:IsA("Union") or v:IsA("BasePart") then
                                    v.Material = Enum.Material.SmoothPlastic
                                    table.insert(Stuff, 1, v)
                                end
                            end

                            if ToDisable.Particles then
                                if v:IsA("ParticleEmitter") or v:IsA("Smoke") or v:IsA("Explosion") or v:IsA("Sparkles") or v:IsA("Fire") then
                                    v.Enabled = false
                                    table.insert(Stuff, 1, v)
                                end
                            end

                            if ToDisable.VisualEffects then
                                if v:IsA("BloomEffect") or v:IsA("BlurEffect") or v:IsA("DepthOfFieldEffect") or v:IsA("SunRaysEffect") then
                                    v.Enabled = false
                                    table.insert(Stuff, 1, v)
                                end
                            end

                            if ToDisable.Textures then
                                if v:IsA("Decal") or v:IsA("Texture") then
                                    v.Texture = ""
                                    table.insert(Stuff, 1, v)
                                end
                            end

                            if ToDisable.Sky then
                                if v:IsA("Sky") then
                                    v.Parent = nil
                                    table.insert(Stuff, 1, v)
                                end
                            end
                        end

                        game:GetService("TestService"):Message("Effects Disabler Script : Successfully disabled "..#Stuff.." assets / effects. Settings :")

                        for i, v in next, ToDisable do
                            print(tostring(i)..": "..tostring(v))
                        end

                        if ToEnable.FullBright then
                            local Lighting = game:GetService("Lighting")

                            Lighting.FogColor = Color3.fromRGB(255, 255, 255)
                            Lighting.FogEnd = math.huge
                            Lighting.FogStart = math.huge
                            Lighting.Ambient = Color3.fromRGB(255, 255, 255)
                            Lighting.Brightness = 5
                            Lighting.ColorShift_Bottom = Color3.fromRGB(255, 255, 255)
                            Lighting.ColorShift_Top = Color3.fromRGB(255, 255, 255)
                            Lighting.OutdoorAmbient = Color3.fromRGB(255, 255, 255)
                            Lighting.Outlines = true
                        end
                        print("Performance improved successfully!")
                    end
                },
                {
                    Title = "Cancel",
                    Callback = function()
                        print("Action canceled.")
                    end
                }
            }
        })
    end
})

-- Dropdown para Skills 1
local SkillsDropdown1 = Tabs.Skills:AddDropdown("SkillsDropdown1", {
    Title = "Skills 1",
    Values = { "LapseBlue", "ReversalRed", "RapidPunches", "TwofoldKick" },
    Multi = true,
    Default = {},
})

-- Dropdown para Skills 2
local SkillsDropdown2 = Tabs.Skills:AddDropdown("SkillsDropdown2", {
    Title = "Skills 2",
    Values = { "CursedStrikes", "CrushingBlow", "DivergentFist", "ManjiKick" },
    Multi = true,
    Default = {},
})

-- Dropdown para Skills 3
local SkillsDropdown3 = Tabs.Skills:AddDropdown("SkillsDropdown3", {
    Title = "Skills 3",
    Values = { "ReserveBall", "ShutterDoor", "RoughEnergy", "FeverBreaker" },
    Multi = true,
    Default = {},
})

-- Dropdown para Skills 4
local SkillsDropdown4 = Tabs.Skills:AddDropdown("SkillsDropdown4", {
    Title = "Skills 4",
    Values = { "RabbitEscape", "Nue", "DivineDog" },
    Multi = true,
    Default = {},
})

local runningScripts1 = {}
local runningScripts2 = {}
local runningScripts3 = {}
local runningScripts4 = {}

-- FunÃ§Ã£o para iniciar a execuÃ§Ã£o contÃ­nua de uma habilidade
local function startLoop(skillName, serviceName, scriptTable, extraArgs)
    if scriptTable[skillName] then return end
    scriptTable[skillName] = true

    spawn(function()
        while scriptTable[skillName] do
            local args = { [1] = false }
            if extraArgs then
                args = extraArgs
            end
            game:GetService("ReplicatedStorage"):WaitForChild("Knit"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild(serviceName):WaitForChild("RE"):WaitForChild("Activated"):FireServer(unpack(args))
            wait(0.1)  -- Intervalo entre execuÃ§Ãµes
        end
    end)
end

-- FunÃ§Ã£o para parar a execuÃ§Ã£o contÃ­nua de uma habilidade
local function stopLoop(skillName, scriptTable)
    scriptTable[skillName] = nil
end

-- LÃ³gica para o Dropdown 1 (Skills 1)
SkillsDropdown1:OnChanged(function(Value)
    if Value["LapseBlue"] then
        startLoop("LapseBlue", "LapseBlueService", runningScripts1)
    else
        stopLoop("LapseBlue", runningScripts1)
    end

    if Value["ReversalRed"] then
        startLoop("ReversalRed", "ReversalRedService", runningScripts1)
    else
        stopLoop("ReversalRed", runningScripts1)
    end

    if Value["RapidPunches"] then
        startLoop("RapidPunches", "RapidPunchesService", runningScripts1)
    else
        stopLoop("RapidPunches", runningScripts1)
    end

    if Value["TwofoldKick"] then
        startLoop("TwofoldKick", "TwofoldKickService", runningScripts1)
    else
        stopLoop("TwofoldKick", runningScripts1)
    end
end)

-- LÃ³gica para o Dropdown 2 (Skills 2)
SkillsDropdown2:OnChanged(function(Value)
    if Value["CursedStrikes"] then
        startLoop("CursedStrikes", "CursedStrikesService", runningScripts2)
    else
        stopLoop("CursedStrikes", runningScripts2)
    end

    if Value["CrushingBlow"] then
        startLoop("CrushingBlow", "CrushingBlowService", runningScripts2)
    else
        stopLoop("CrushingBlow", runningScripts2)
    end

    if Value["DivergentFist"] then
        startLoop("DivergentFist", "DivergentFistService", runningScripts2)
    else
        stopLoop("DivergentFist", runningScripts2)
    end

    if Value["ManjiKick"] then
        startLoop("ManjiKick", "ManjiKickService", runningScripts2)
    else
        stopLoop("ManjiKick", runningScripts2)
    end
end)

-- LÃ³gica para o Dropdown 3 (Skills 3)
SkillsDropdown3:OnChanged(function(Value)
    if Value["ReserveBall"] then
        startLoop("ReserveBall", "ReserveBallService", runningScripts3)
    else
        stopLoop("ReserveBall", runningScripts3)
    end

    if Value["ShutterDoor"] then
        startLoop("ShutterDoor", "ShutterDoorService", runningScripts3)
    else
        stopLoop("ShutterDoor", runningScripts3)
    end

    if Value["RoughEnergy"] then
        startLoop("RoughEnergy", "RoughEnergyService", runningScripts3)
    else
        stopLoop("RoughEnergy", runningScripts3)
    end

    if Value["FeverBreaker"] then
        startLoop("FeverBreaker", "FeverBreakerService", runningScripts3)
    else
        stopLoop("FeverBreaker", runningScripts3)
    end
end)

-- LÃ³gica para o Dropdown 4 (Skills 4)
SkillsDropdown4:OnChanged(function(Value)
    if Value["RabbitEscape"] then
        local args = {
            [1] = workspace:WaitForChild("Characters"):WaitForChild("King_Raspberries")
        }
        startLoop("RabbitEscape", "RabbitEscapeService", runningScripts4, args)
    else
        stopLoop("RabbitEscape", runningScripts4)
    end

    if Value["Nue"] then
        startLoop("Nue", "NueService", runningScripts4)
    else
        stopLoop("Nue", runningScripts4)
    end

    if Value["DivineDog"] then
        startLoop("DivineDog", "DivineDogService", runningScripts4)
    else
        stopLoop("DivineDog", runningScripts4)
    end
end)

-- Toggle para ativar/desativar o Auto Farm
local Toggle = Tabs.Main:AddToggle("AutoFarmToggle", {
    Title = "Kill Farm",
    Default = false,
})

local isAutoFarming = false
local targetPlayer = nil

-- FunÃ§Ã£o para obter um jogador aleatÃ³rio
local function getRandomPlayer()
    local players = game.Players:GetPlayers()
    local otherPlayers = {}

    -- Filtra os jogadores que nÃ£o sejam o prÃ³prio jogador
    for _, p in ipairs(players) do
        if p ~= game.Players.LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            table.insert(otherPlayers, p)
        end
    end

    -- Retorna um jogador aleatÃ³rio
    return #otherPlayers > 0 and otherPlayers[math.random(1, #otherPlayers)] or nil
end

-- FunÃ§Ã£o para teleportar e alinhar o personagem atrÃ¡s do jogador alvo
local function teleportToTarget()
    if targetPlayer and targetPlayer.Character then
        local targetCharacter = targetPlayer.Character
        local targetRootPart = targetCharacter:FindFirstChild("HumanoidRootPart")

        -- Verifica se o alvo tem o HumanoidRootPart
        if targetRootPart then
            local humanoidRootPart = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")

            -- Posiciona o personagem atrÃ¡s do jogador alvo (com distÃ¢ncia ajustada)
            local offset = targetRootPart.CFrame * CFrame.new(0, 0, 2)  -- DistÃ¢ncia ajustada para ficar atrÃ¡s
            humanoidRootPart.CFrame = CFrame.new(offset.Position)

            -- Faz o personagem ficar virado para o alvo
            local direction = (targetRootPart.Position - humanoidRootPart.Position).unit
            humanoidRootPart.CFrame = CFrame.new(humanoidRootPart.Position, targetRootPart.Position + direction)
        end
    else
        -- Se o jogador alvo nÃ£o existe, escolhe um novo alvo
        targetPlayer = getRandomPlayer()
    end
end

-- FunÃ§Ã£o para monitorar a morte do jogador e trocar de alvo
local function monitorPlayerDeath()
    if targetPlayer and targetPlayer.Character then
        targetPlayer.Character:WaitForChild("Humanoid").Died:Connect(function()
            print(targetPlayer.Name .. " morreu, trocando de alvo.")
            targetPlayer = getRandomPlayer()  -- Troca para um novo jogador quando o alvo morre
        end)
    end
end

-- Controle da lÃ³gica do toggle
Toggle:OnChanged(function()
    if Toggle.Value then
        print("Auto Farm ativado")  -- Mensagem de debug para ativaÃ§Ã£o
        targetPlayer = getRandomPlayer()  -- Seleciona um alvo inicial
        monitorPlayerDeath()  -- Inicia a monitoraÃ§Ã£o da morte do jogador alvo
        isAutoFarming = true
    else
        print("Auto Farm desativado")  -- Mensagem de debug para desativaÃ§Ã£o
        isAutoFarming = false
        targetPlayer = nil  -- Reseta o alvo ao desativar
    end
end)

-- Loop para manter o personagem nas costas do jogador alvo enquanto o toggle estiver ativado
spawn(function()
    while true do
        if isAutoFarming then
            if targetPlayer then
                teleportToTarget()  -- Teleporta para o jogador atual
            else
                targetPlayer = getRandomPlayer()  -- Se o alvo nÃ£o existe mais, escolhe um novo
            end
        end
        wait(0.1)  -- Atualiza frequentemente para garantir que o personagem siga o alvo e fique virado para ele
    end
end)

-- Dropdown para selecionar jogadores
local Dropdown = Tabs.Main:AddDropdown("PlayerDropdown", {
    Title = "Select Player",
    Values = {},  -- Lista de valores vazia inicialmente
    Multi = false,
    Default = 1,  -- Seleção padrão
})

-- Função para obter a lista de jogadores do servidor
local function updatePlayerList()
    local players = game.Players:GetPlayers()
    local playerNames = {}

    for _, p in ipairs(players) do
        if p ~= game.Players.LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            table.insert(playerNames, p.Name)  -- Adiciona o nome do jogador à lista
        end
    end

    Dropdown:SetValues(playerNames)  -- Atualiza os valores do Dropdown com os nomes dos jogadores
end

-- Atualiza a lista de jogadores sempre que houver uma mudança de jogador no servidor
game.Players.PlayerAdded:Connect(function(player)
    updatePlayerList()
end)

game.Players.PlayerRemoving:Connect(function(player)
    updatePlayerList()
end)

-- Inicializa a lista de jogadores ao carregar o script
updatePlayerList()

-- Variável para armazenar o jogador selecionado
local selectedPlayer = nil

-- Atualiza a variável selectedPlayer quando o Dropdown é alterado
Dropdown:OnChanged(function(Value)
    selectedPlayer = game.Players:FindFirstChild(Value)
    print("Selecionado jogador:", Value)
end)

-- Função para teleportar e alinhar o personagem
local function teleportToSelectedPlayer()
    if selectedPlayer and selectedPlayer.Character then
        local targetRootPart = selectedPlayer.Character:FindFirstChild("HumanoidRootPart")
        if targetRootPart then
            local humanoidRootPart = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
            -- Posiciona o personagem nas costas do jogador alvo
            local offset = targetRootPart.CFrame * CFrame.new(0, 0, 2)  -- Distância ajustada para ficar atrás
            humanoidRootPart.CFrame = CFrame.new(offset.Position)
            -- Faz o personagem ficar virado para o alvo
            local direction = (targetRootPart.Position - humanoidRootPart.Position).unit
            humanoidRootPart.CFrame = CFrame.new(humanoidRootPart.Position, targetRootPart.Position + direction)
            print("Teleportado para:", selectedPlayer.Name)
        end
    else
        print("Nenhum jogador selecionado ou o jogador não está disponível.")
    end
end

-- Botão para executar o teleporte para o jogador selecionado
Tabs.Main:AddButton({
    Title = "Teleport to Selected Player",
    Callback = function()
        teleportToSelectedPlayer()  -- Executa o teleporte apenas quando o botão é pressionado
    end
})

SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)
SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})
InterfaceManager:SetFolder("FluentScriptHub")
SaveManager:SetFolder("FluentScriptHub/specific-game")
InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)
Fluent:Notify({
    Title = "Fluent",
    Content = "The script has been loaded.",
    Duration = 8
})

SaveManager:LoadAutoloadConfig()
